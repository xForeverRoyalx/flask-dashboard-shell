/* ==========================================================================
   base.css — Flask Dashboard Shell
   Design tokens + layout primitives + components
   Architecture: two-column master window, no horizontal header,
   collapsible mini-rail sidebar, mobile footer nav
   ========================================================================== */


/* --------------------------------------------------------------------------
   1. DESIGN TOKENS
   -------------------------------------------------------------------------- */

:root {
  /* --- Color Palette --- */
  --color-bg-page:        #0b0d11;
  --color-bg-surface:     #111318;
  --color-bg-elevated:    #181b22;
  --color-bg-overlay:     #1e2230;
  --color-bg-input:       #161921;

  --color-border:         rgba(255,255,255,0.06);
  --color-border-strong:  rgba(255,255,255,0.12);
  --color-border-focus:   rgba(0,200,160,0.5);

  --color-text-primary:   #dde1ec;
  --color-text-secondary: #7a8099;
  --color-text-muted:     #444a5e;
  --color-text-inverse:   #0b0d11;

  /* Accent — cold teal-green */
  --color-accent:         #00c8a0;
  --color-accent-dim:     rgba(0,200,160,0.10);
  --color-accent-glow:    rgba(0,200,160,0.22);
  --color-accent-hover:   #00b08c;

  /* Semantic */
  --color-success:        #34d380;
  --color-success-dim:    rgba(52,211,128,0.10);
  --color-danger:         #f05070;
  --color-danger-dim:     rgba(240,80,112,0.10);
  --color-warning:        #f0a030;
  --color-warning-dim:    rgba(240,160,48,0.10);
  --color-info:           #4b9ef5;
  --color-info-dim:       rgba(75,158,245,0.10);

  /* --- Typography --- */
  --font-display:  'Syne', 'Trebuchet MS', sans-serif;
  --font-body:     'DM Sans', 'Segoe UI', sans-serif;
  --font-mono:     'JetBrains Mono', 'Courier New', monospace;

  --text-2xs:  0.625rem;   /* 10px */
  --text-xs:   0.6875rem;  /* 11px */
  --text-sm:   0.8125rem;  /* 13px */
  --text-base: 0.9375rem;  /* 15px */
  --text-md:   1.0625rem;  /* 17px */
  --text-lg:   1.25rem;    /* 20px */
  --text-xl:   1.5rem;     /* 24px */
  --text-2xl:  2rem;       /* 32px */
  --text-3xl:  2.625rem;   /* 42px */

  --weight-regular: 400;
  --weight-medium:  500;
  --weight-semibold:600;
  --weight-bold:    700;

  --leading-tight:  1.15;
  --leading-base:   1.6;

  --tracking-tight:  -0.025em;
  --tracking-base:    0em;
  --tracking-wide:    0.05em;
  --tracking-wider:   0.10em;
  --tracking-widest:  0.15em;

  /* --- Spacing (4px base) --- */
  --space-1:  0.25rem;
  --space-2:  0.5rem;
  --space-3:  0.75rem;
  --space-4:  1rem;
  --space-5:  1.25rem;
  --space-6:  1.5rem;
  --space-8:  2rem;
  --space-10: 2.5rem;
  --space-12: 3rem;
  --space-16: 4rem;
  --space-20: 5rem;

  /* --- Sidebar sizing --- */
  --sidebar-width:     220px;
  --sidebar-rail:       56px;
  --sidebar-transition: 280ms cubic-bezier(0.4,0,0.2,1);

  /* --- Other sizing --- */
  --mobile-footer-height: 58px;
  --content-max: 1180px;

  /* --- Borders & Radii --- */
  --radius-sm:   4px;
  --radius-md:   8px;
  --radius-lg:   12px;
  --radius-xl:   18px;
  --radius-2xl:  24px;
  --radius-full: 9999px;

  /* --- Shadows --- */
  --shadow-sm:   0 1px 3px rgba(0,0,0,0.45);
  --shadow-md:   0 4px 16px rgba(0,0,0,0.55);
  --shadow-lg:   0 8px 40px rgba(0,0,0,0.65);
  --shadow-glow: 0 0 24px var(--color-accent-glow);

  /* --- Transitions --- */
  --t-fast: 120ms ease;
  --t-base: 220ms ease;
  --t-slow: 360ms ease;

  /* --- Z-index --- */
  --z-base:    0;
  --z-raised:  10;
  --z-sidebar: 100;
  --z-mobile-footer: 200;
  --z-tooltip: 300;
  --z-modal:   400;
  --z-toast:   500;
}


/* --------------------------------------------------------------------------
   2. RESET
   -------------------------------------------------------------------------- */

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

html {
  font-size: 16px;
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
}

body {
  font-family: var(--font-body);
  font-size: var(--text-base);
  line-height: var(--leading-base);
  color: var(--color-text-primary);
  background: var(--color-bg-page);
  min-height: 100vh;
}

a { color: var(--color-accent); text-decoration: none; }
a:hover { opacity: 0.82; }
img, svg { display: block; max-width: 100%; }
button, input, select, textarea { font-family: inherit; font-size: inherit; }
ul, ol { list-style: none; }

h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-display);
  font-weight: var(--weight-bold);
  line-height: var(--leading-tight);
  letter-spacing: var(--tracking-tight);
  color: var(--color-text-primary);
}

h1 { font-size: var(--text-3xl); }
h2 { font-size: var(--text-2xl); }
h3 { font-size: var(--text-xl); }
h4 { font-size: var(--text-lg); }

p { color: var(--color-text-secondary); }
code, pre { font-family: var(--font-mono); font-size: var(--text-sm); }


/* --------------------------------------------------------------------------
   3. APP SHELL — Two-column master window, no top bar
   -------------------------------------------------------------------------- */

.app-shell {
  display: flex;
  min-height: 100vh;
  /* sidebar width driven by --sidebar-width or --sidebar-rail via JS class */
}


/* --------------------------------------------------------------------------
   4. SIDEBAR
   -------------------------------------------------------------------------- */

.sidebar {
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: var(--sidebar-width);
  background: var(--color-bg-surface);
  border-right: 1px solid var(--color-border);
  display: flex;
  flex-direction: column;
  z-index: var(--z-sidebar);
  overflow: hidden;
  transition: width var(--sidebar-transition);
  /* Subtle vertical texture */
  background-image: radial-gradient(ellipse 60% 40% at 50% 0%,
    rgba(0,200,160,0.04) 0%, transparent 70%);
}

/* Collapsed state — rail */
.sidebar.is-collapsed {
  width: var(--sidebar-rail);
}

/* ---- Logo icon (shared between sidebar and window topbar) ---- */
.sidebar__logo-icon {
  width: 28px;
  height: 28px;
  background: var(--color-accent);
  border-radius: var(--radius-sm);
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--color-text-inverse);
  font-family: var(--font-display);
  font-size: var(--text-xs);
  font-weight: var(--weight-bold);
  letter-spacing: 0.02em;
  flex-shrink: 0;
}

/* ---- Collapse toggle ---- */
.sidebar__toggle-wrap {
  display: flex;
  justify-content: flex-end;
  padding: var(--space-4) var(--space-4) var(--space-2);
  flex-shrink: 0;
}

.sidebar__toggle {
  width: 26px;
  height: 26px;
  border: 1px solid var(--color-border-strong);
  border-radius: var(--radius-sm);
  background: var(--color-bg-elevated);
  color: var(--color-text-muted);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  transition: color var(--t-fast), background var(--t-fast), transform var(--sidebar-transition);
}
.sidebar__toggle:hover { color: var(--color-text-primary); background: var(--color-bg-overlay); }
.sidebar.is-collapsed .sidebar__toggle { transform: rotate(180deg); }

/* Collapsed: center the toggle in the rail */
.sidebar.is-collapsed .sidebar__toggle-wrap {
  justify-content: center;
  padding: var(--space-4) 0 var(--space-2);
}


/* --------------------------------------------------------------------------
   WINDOW TOPBAR — logo upper-left of main, user chip upper-right
   -------------------------------------------------------------------------- */

.window-topbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--space-5) var(--space-2) var(--space-6);
  gap: var(--space-4);
  flex-shrink: 0;
}

.window-topbar__logo {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  text-decoration: none;
}

.window-topbar__logo-name {
  font-family: var(--font-display);
  font-size: var(--text-sm);
  font-weight: var(--weight-bold);
  letter-spacing: var(--tracking-widest);
  text-transform: uppercase;
  color: var(--color-text-primary);
  white-space: nowrap;
}

.window-topbar__right {
  display: flex;
  align-items: center;
  gap: var(--space-3);
}

/* ---- User chip — standalone, lives in window topbar ---- */
.user-chip {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  padding: var(--space-2) var(--space-3);
  border-radius: var(--radius-lg);
  border: 1px solid var(--color-border);
  background: var(--color-bg-elevated);
  text-decoration: none;
  transition: border-color var(--t-fast), background var(--t-fast);
  overflow: hidden;
}
.user-chip:hover {
  border-color: var(--color-border-strong);
  background: var(--color-bg-overlay);
}

.user-chip__avatar {
  width: 30px;
  height: 30px;
  border-radius: var(--radius-full);
  background: var(--color-accent-dim);
  border: 1px solid rgba(0,200,160,0.3);
  color: var(--color-accent);
  font-family: var(--font-display);
  font-size: var(--text-xs);
  font-weight: var(--weight-bold);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.user-chip__info {
  overflow: hidden;
}

.user-chip__name {
  font-size: var(--text-sm);
  font-weight: var(--weight-semibold);
  color: var(--color-text-primary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.user-chip__role {
  font-size: var(--text-2xs);
  letter-spacing: var(--tracking-widest);
  text-transform: uppercase;
  color: var(--color-text-muted);
}

/* ---- Nav ---- */
.sidebar__nav {
  flex: 1;
  padding: var(--space-3) 0;
  display: flex;
  flex-direction: column;
  gap: 2px;
  overflow-y: auto;
  overflow-x: hidden;
}

.sidebar__section-label {
  padding: var(--space-4) var(--space-4) var(--space-1);
  font-size: var(--text-2xs);
  font-weight: var(--weight-bold);
  letter-spacing: var(--tracking-widest);
  text-transform: uppercase;
  color: var(--color-text-muted);
  white-space: nowrap;
  opacity: 1;
  transition: opacity var(--sidebar-transition);
}
.sidebar.is-collapsed .sidebar__section-label {
  opacity: 0;
  height: 0;
  padding: 0;
  overflow: hidden;
}

.nav-item {
  position: relative;
  display: flex;
  align-items: center;
  gap: var(--space-3);
  padding: var(--space-2) var(--space-4);
  margin: 0 var(--space-2);
  border-radius: var(--radius-md);
  color: var(--color-text-secondary);
  font-size: var(--text-sm);
  font-weight: var(--weight-medium);
  cursor: pointer;
  transition: color var(--t-fast), background var(--t-fast);
  text-decoration: none;
  white-space: nowrap;
  overflow: hidden;
}
.nav-item:hover {
  color: var(--color-text-primary);
  background: var(--color-bg-elevated);
}
.nav-item.is-active {
  color: var(--color-accent);
  background: var(--color-accent-dim);
}
.nav-item.is-active::before {
  content: '';
  position: absolute;
  left: 0;
  top: 20%;
  bottom: 20%;
  width: 2.5px;
  background: var(--color-accent);
  border-radius: 0 2px 2px 0;
}

/* Icon inside nav-item */
.nav-item__icon {
  width: 17px;
  height: 17px;
  flex-shrink: 0;
  opacity: 0.65;
  transition: opacity var(--t-fast);
}
.nav-item:hover .nav-item__icon,
.nav-item.is-active .nav-item__icon { opacity: 1; }

/* Label inside nav-item */
.nav-item__label {
  opacity: 1;
  transition: opacity var(--sidebar-transition);
}
.sidebar.is-collapsed .nav-item__label {
  opacity: 0;
  width: 0;
  pointer-events: none;
}

/* Collapsed nav centering */
.sidebar.is-collapsed .nav-item {
  justify-content: center;
  margin: 0 auto;
  width: calc(var(--sidebar-rail) - 12px);
  padding: var(--space-2);
}
.sidebar.is-collapsed .nav-item.is-active::before { display: none; }

/* ---- Tooltip for collapsed rail ---- */
.nav-tooltip {
  position: absolute;
  left: calc(var(--sidebar-rail) + 10px);
  top: 50%;
  transform: translateY(-50%);
  background: var(--color-bg-overlay);
  border: 1px solid var(--color-border-strong);
  color: var(--color-text-primary);
  font-size: var(--text-xs);
  font-weight: var(--weight-medium);
  padding: 4px 10px;
  border-radius: var(--radius-md);
  white-space: nowrap;
  pointer-events: none;
  opacity: 0;
  z-index: var(--z-tooltip);
  transition: opacity var(--t-fast);
  box-shadow: var(--shadow-md);
}

.sidebar.is-collapsed .nav-item:hover .nav-tooltip { opacity: 1; }


/* ---- Sidebar footer ---- */
.sidebar__footer {
  padding: var(--space-4);
  border-top: 1px solid var(--color-border);
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
}

.sidebar__footer-text {
  font-size: var(--text-2xs);
  letter-spacing: var(--tracking-wide);
  color: var(--color-text-muted);
  opacity: 1;
  transition: opacity var(--sidebar-transition);
}
.sidebar.is-collapsed .sidebar__footer-text { opacity: 0; }


/* --------------------------------------------------------------------------
   5. MAIN CONTENT AREA
   -------------------------------------------------------------------------- */

.main-content {
  flex: 1;
  margin-left: var(--sidebar-width);
  min-height: 100vh;
  padding: 0 var(--space-10) var(--space-10);
  transition: margin-left var(--sidebar-transition);
}

.sidebar.is-collapsed ~ .main-content {
  margin-left: var(--sidebar-rail);
}

.content-container {
  max-width: var(--content-max);
  margin: 0 auto;
}

/* Page header */
.page-header {
  margin-bottom: var(--space-10);
}
.page-header__eyebrow {
  font-size: var(--text-xs);
  font-weight: var(--weight-bold);
  letter-spacing: var(--tracking-widest);
  text-transform: uppercase;
  color: var(--color-accent);
  margin-bottom: var(--space-3);
}
.page-header__title { margin-bottom: var(--space-2); }
.page-header__subtitle {
  font-size: var(--text-base);
  color: var(--color-text-secondary);
  max-width: 52ch;
}

/* Flash messages */
.flash-list {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
  margin-bottom: var(--space-6);
}
.flash {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  padding: var(--space-3) var(--space-5);
  border-radius: var(--radius-md);
  font-size: var(--text-sm);
  font-weight: var(--weight-medium);
}
.flash--success {
  background: var(--color-success-dim);
  color: var(--color-success);
  border: 1px solid rgba(52,211,128,0.2);
}
.flash--danger, .flash--error {
  background: var(--color-danger-dim);
  color: var(--color-danger);
  border: 1px solid rgba(240,80,112,0.2);
}
.flash--info {
  background: var(--color-info-dim);
  color: var(--color-info);
  border: 1px solid rgba(75,158,245,0.2);
}


/* --------------------------------------------------------------------------
   6. CARD
   -------------------------------------------------------------------------- */

.card {
  background: var(--color-bg-surface);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-xl);
  padding: var(--space-8);
  transition: border-color var(--t-fast);
}
.card:hover { border-color: var(--color-border-strong); }

.card--flat { border-radius: var(--radius-lg); padding: var(--space-6); }
.card--accent {
  border-color: rgba(0,200,160,0.25);
  box-shadow: 0 0 0 1px var(--color-accent-dim), var(--shadow-md);
}

.card__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: var(--space-6);
  gap: var(--space-4);
}
.card__title {
  font-size: var(--text-xs);
  font-weight: var(--weight-bold);
  letter-spacing: var(--tracking-widest);
  text-transform: uppercase;
  color: var(--color-text-muted);
}
.card__subtitle {
  font-size: var(--text-sm);
  color: var(--color-text-secondary);
  margin-top: var(--space-1);
}


/* --------------------------------------------------------------------------
   7. FORM ELEMENTS
   -------------------------------------------------------------------------- */

.form-group {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
  margin-bottom: var(--space-5);
}
.form-group:last-of-type { margin-bottom: 0; }

.form-label {
  font-size: var(--text-xs);
  font-weight: var(--weight-bold);
  letter-spacing: var(--tracking-wider);
  text-transform: uppercase;
  color: var(--color-text-secondary);
}

.form-input {
  width: 100%;
  background: var(--color-bg-input);
  border: 1px solid var(--color-border-strong);
  border-radius: var(--radius-md);
  padding: var(--space-3) var(--space-4);
  color: var(--color-text-primary);
  font-size: var(--text-base);
  outline: none;
  transition: border-color var(--t-fast), box-shadow var(--t-fast);
  -webkit-appearance: none;
}
.form-input::placeholder { color: var(--color-text-muted); }
.form-input:focus {
  border-color: var(--color-accent);
  box-shadow: 0 0 0 3px var(--color-accent-dim);
}
.form-input.is-error {
  border-color: var(--color-danger);
  box-shadow: 0 0 0 3px var(--color-danger-dim);
}

.form-error {
  font-size: var(--text-xs);
  color: var(--color-danger);
  display: flex;
  align-items: center;
  gap: var(--space-1);
}

.form-hint {
  font-size: var(--text-xs);
  color: var(--color-text-muted);
}

.form-row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-5);
}

.form-divider {
  height: 1px;
  background: var(--color-border);
  margin: var(--space-6) 0;
}

.form-actions {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  padding-top: var(--space-6);
}


/* --------------------------------------------------------------------------
   8. BUTTONS
   -------------------------------------------------------------------------- */

.btn {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-3) var(--space-6);
  font-family: var(--font-display);
  font-size: var(--text-sm);
  font-weight: var(--weight-bold);
  letter-spacing: var(--tracking-wide);
  text-transform: uppercase;
  border-radius: var(--radius-md);
  border: 1px solid transparent;
  cursor: pointer;
  transition:
    background var(--t-fast),
    border-color var(--t-fast),
    box-shadow var(--t-fast),
    transform var(--t-fast);
  white-space: nowrap;
  text-decoration: none;
  -webkit-appearance: none;
}
.btn:hover  { transform: translateY(-1px); }
.btn:active { transform: translateY(0); }

.btn--primary {
  background: var(--color-accent);
  color: var(--color-text-inverse);
  border-color: var(--color-accent);
}
.btn--primary:hover { background: var(--color-accent-hover); box-shadow: var(--shadow-glow); }

.btn--ghost {
  background: transparent;
  color: var(--color-text-secondary);
  border-color: var(--color-border-strong);
}
.btn--ghost:hover { color: var(--color-text-primary); background: var(--color-bg-elevated); }

.btn--link {
  background: transparent;
  color: var(--color-text-secondary);
  border-color: transparent;
  padding-left: 0;
  padding-right: 0;
}
.btn--link:hover { color: var(--color-text-primary); transform: none; }

.btn--danger { background: var(--color-danger-dim); color: var(--color-danger); border-color: rgba(240,80,112,0.2); }
.btn--danger:hover { background: var(--color-danger); color: #fff; }

.btn--sm { padding: var(--space-1) var(--space-4); font-size: var(--text-xs); }
.btn--icon {
  padding: var(--space-2);
  width: 36px;
  height: 36px;
  justify-content: center;
  border-radius: var(--radius-md);
}
.btn:disabled { opacity: 0.4; pointer-events: none; }


/* --------------------------------------------------------------------------
   9. BADGE
   -------------------------------------------------------------------------- */

.badge {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 2px 8px;
  font-size: var(--text-2xs);
  font-weight: var(--weight-bold);
  letter-spacing: var(--tracking-wider);
  text-transform: uppercase;
  border-radius: var(--radius-full);
}
.badge--accent   { background: var(--color-accent-dim);   color: var(--color-accent); }
.badge--success  { background: var(--color-success-dim);  color: var(--color-success); }
.badge--danger   { background: var(--color-danger-dim);   color: var(--color-danger); }
.badge--warning  { background: var(--color-warning-dim);  color: var(--color-warning); }
.badge--info     { background: var(--color-info-dim);     color: var(--color-info); }
.badge--muted    { background: var(--color-bg-overlay);   color: var(--color-text-muted); }


/* --------------------------------------------------------------------------
   10. AVATAR
   -------------------------------------------------------------------------- */

.avatar {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: var(--radius-full);
  background: var(--color-bg-overlay);
  border: 1px solid var(--color-border-strong);
  color: var(--color-text-secondary);
  font-family: var(--font-display);
  font-weight: var(--weight-bold);
  flex-shrink: 0;
}
.avatar--sm   { width: 28px; height: 28px; font-size: var(--text-xs); }
.avatar--md   { width: 38px; height: 38px; font-size: var(--text-sm); }
.avatar--lg   { width: 56px; height: 56px; font-size: var(--text-lg); }
.avatar--xl   { width: 72px; height: 72px; font-size: var(--text-xl); }
.avatar--accent { background: var(--color-accent-dim); color: var(--color-accent); border-color: rgba(0,200,160,0.25); }


/* --------------------------------------------------------------------------
   11. PROFILE DATA DISPLAY (account_profile.html)
   -------------------------------------------------------------------------- */

.profile-field {
  display: flex;
  flex-direction: column;
  gap: var(--space-1);
  padding: var(--space-4) 0;
  border-bottom: 1px solid var(--color-border);
}
.profile-field:last-child { border-bottom: none; }

.profile-field__label {
  font-size: var(--text-xs);
  font-weight: var(--weight-bold);
  letter-spacing: var(--tracking-widest);
  text-transform: uppercase;
  color: var(--color-text-muted);
}
.profile-field__value {
  font-size: var(--text-base);
  color: var(--color-text-primary);
}
.profile-field__value.is-unset {
  color: var(--color-text-muted);
  font-style: italic;
}

.profile-email-status {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  font-size: var(--text-sm);
}


/* --------------------------------------------------------------------------
   12. STEP INDICATOR (used on setup page)
   -------------------------------------------------------------------------- */

.step-indicator {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  margin-bottom: var(--space-8);
}
.step {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  font-size: var(--text-xs);
  font-weight: var(--weight-bold);
  letter-spacing: var(--tracking-wide);
  text-transform: uppercase;
  color: var(--color-text-muted);
}
.step.is-active { color: var(--color-accent); }
.step.is-done   { color: var(--color-success); }
.step__dot {
  width: 22px;
  height: 22px;
  border-radius: var(--radius-full);
  border: 2px solid currentColor;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: var(--text-2xs);
  flex-shrink: 0;
}
.step-connector {
  flex: 1;
  height: 1px;
  background: var(--color-border);
  max-width: 48px;
}


/* --------------------------------------------------------------------------
   12b. UPLOAD ZONE
   -------------------------------------------------------------------------- */

.upload-zone {
  position: relative;
  border: 2px dashed var(--color-border-strong);
  border-radius: var(--radius-xl);
  background: var(--color-bg-input);
  min-height: 180px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: border-color var(--t-base), background var(--t-base);
  overflow: hidden;
}
.upload-zone:hover,
.upload-zone.is-dragover {
  border-color: var(--color-accent);
  background: var(--color-accent-dim);
}
.upload-zone.has-file { border-style: solid; border-color: var(--color-accent); }

.upload-zone__input {
  position: absolute;
  inset: 0;
  opacity: 0;
  width: 0;
  height: 0;
  pointer-events: none;
}

.upload-zone__prompt {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-3);
  padding: var(--space-8);
  color: var(--color-text-muted);
  text-align: center;
  pointer-events: none;
}
.upload-zone__label {
  font-size: var(--text-sm);
  color: var(--color-text-secondary);
}
.upload-zone__label u { color: var(--color-accent); text-decoration: underline; }
.upload-zone__hint {
  font-size: var(--text-xs);
  color: var(--color-text-muted);
}

.upload-zone__preview {
  width: 100%;
  height: 180px;
  pointer-events: none;
}
.upload-zone__img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: calc(var(--radius-xl) - 2px);
}


/* --------------------------------------------------------------------------
   13. GRID & LAYOUT UTILITIES
   -------------------------------------------------------------------------- */

.grid        { display: grid; gap: var(--space-6); }
.grid--2     { grid-template-columns: repeat(2, 1fr); }
.grid--3     { grid-template-columns: repeat(3, 1fr); }

.flex        { display: flex; }
.flex-col    { display: flex; flex-direction: column; }
.items-center { align-items: center; }
.items-start  { align-items: flex-start; }
.justify-between { justify-content: space-between; }
.justify-end     { justify-content: flex-end; }
.gap-2   { gap: var(--space-2); }
.gap-3   { gap: var(--space-3); }
.gap-4   { gap: var(--space-4); }
.gap-6   { gap: var(--space-6); }
.flex-1  { flex: 1; }
.shrink-0 { flex-shrink: 0; }

.mb-2 { margin-bottom: var(--space-2); }
.mb-4 { margin-bottom: var(--space-4); }
.mb-6 { margin-bottom: var(--space-6); }
.mb-8 { margin-bottom: var(--space-8); }
.mt-4 { margin-top: var(--space-4); }
.mt-6 { margin-top: var(--space-6); }

.text-sm       { font-size: var(--text-sm); }
.text-xs       { font-size: var(--text-xs); }
.text-muted    { color: var(--color-text-muted); }
.text-secondary { color: var(--color-text-secondary); }
.text-accent   { color: var(--color-accent); }
.text-success  { color: var(--color-success); }
.text-danger   { color: var(--color-danger); }
.font-mono     { font-family: var(--font-mono); }
.uppercase     { text-transform: uppercase; }
.tracking-wide { letter-spacing: var(--tracking-wide); }
.tracking-wider { letter-spacing: var(--tracking-wider); }
.truncate      { overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
.w-full        { width: 100%; }


/* --------------------------------------------------------------------------
   14. DIVIDER
   -------------------------------------------------------------------------- */

.divider {
  width: 100%;
  height: 1px;
  background: var(--color-border);
  border: none;
  margin: var(--space-8) 0;
}


/* --------------------------------------------------------------------------
   15. SCROLLBAR
   -------------------------------------------------------------------------- */

::-webkit-scrollbar { width: 5px; height: 5px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: var(--color-bg-overlay); border-radius: 3px; }
::-webkit-scrollbar-thumb:hover { background: var(--color-text-muted); }


/* --------------------------------------------------------------------------
   16. ANIMATIONS
   -------------------------------------------------------------------------- */

@keyframes fade-up {
  from { opacity: 0; transform: translateY(10px); }
  to   { opacity: 1; transform: translateY(0); }
}
@keyframes fade-in {
  from { opacity: 0; }
  to   { opacity: 1; }
}

.animate-fade-up { animation: fade-up 0.30s ease both; }
.animate-fade-in { animation: fade-in 0.30s ease both; }
.delay-1 { animation-delay: 0.05s; }
.delay-2 { animation-delay: 0.10s; }
.delay-3 { animation-delay: 0.15s; }
.delay-4 { animation-delay: 0.20s; }


/* --------------------------------------------------------------------------
   17. MOBILE FOOTER NAV
   -------------------------------------------------------------------------- */

.mobile-footer-nav {
  display: none;
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  height: var(--mobile-footer-height);
  background: var(--color-bg-surface);
  border-top: 1px solid var(--color-border);
  z-index: var(--z-mobile-footer);
  padding: 0 var(--space-2);
  align-items: center;
  justify-content: space-around;
}
.mobile-footer-nav__item {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 3px;
  padding: var(--space-2) var(--space-3);
  border-radius: var(--radius-md);
  color: var(--color-text-muted);
  font-size: var(--text-2xs);
  font-weight: var(--weight-bold);
  letter-spacing: var(--tracking-wide);
  text-transform: uppercase;
  text-decoration: none;
  transition: color var(--t-fast);
}
.mobile-footer-nav__item.is-active { color: var(--color-accent); }
.mobile-footer-nav__item svg { width: 20px; height: 20px; }


/* --------------------------------------------------------------------------
   18. RESPONSIVE
   -------------------------------------------------------------------------- */

@media (max-width: 900px) {
  .form-row { grid-template-columns: 1fr; }
  .grid--3  { grid-template-columns: 1fr 1fr; }
}

@media (max-width: 768px) {
  /* Hide desktop sidebar entirely */
  .sidebar { display: none; }

  .main-content {
    margin-left: 0 !important;
    padding: 0 var(--space-4) calc(var(--mobile-footer-height) + var(--space-4));
  }

  .mobile-footer-nav { display: flex; }

  .grid--2, .grid--3 { grid-template-columns: 1fr; }
}